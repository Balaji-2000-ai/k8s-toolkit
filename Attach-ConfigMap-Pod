#CM through Manifest File (Declarative way)
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mycm
data:
  DATABASE_URL: www.mysql.com
  PORT: "3306"
  API_KEY: "your_api_key"



#Attaching CM to a Pod
#Pulls the value of the environment variable from a ConfigMap, not hardcoded. The specific key inside the ConfigMap whose value will be injected into the environment variable "value-1" inside the container

---
apiVersion: v1
kind: Pod
metadata:
  name: pod-1
spec:
  containers:
    - name: cont-1
      image: nginx
      env:
        - name: value-1
          valueFrom:
            configMapKeyRef:
              key: configmap_key 
              name: configmap_name



---
apiVersion: v1
kind: Pod
metadata:
  name: pod-1
spec:
  containers:
    - name: cont-1
      image: nginx
      env:
        - name: value-1
          valueFrom:
            configMapKeyRef:
              key: configmap_key 
              name: configmap_name

        - name: value-2
          valueFrom:
            configMapKeyRef:
              key: configmap_key 
              name: configmap_name


#Loads all keys from a ConfigMap as environment variables
---
apiVersion: v1
kind: Pod
metadata:
  name: pod-2
spec:
  containers:
    - name: cont-1
      image: nginx
      envFrom:
        - configMapRef:
            name: configmap_name

        - configMapRef:
            name: configmap_name

